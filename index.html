<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pro Ludo Royal</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
body{margin:0;padding:0;font-family:sans-serif;background:#f0f4f8;}
h1{text-align:center;font-size:2rem;margin:12px;color:#3b82f6;font-weight:bold;}
#board{display:grid;grid-template-columns:repeat(15,1fr);grid-template-rows:repeat(15,1fr);width:90vw;height:90vw;max-width:480px;margin:auto;background:#fff;border:5px solid #333;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,0.2);position:relative;}
.cell{border:0.1px solid #ddd;position:relative;display:flex;align-items:center;justify-content:center;}
.safe{opacity:0.5;background-image:url('https://cdn-icons-png.flaticon.com/512/1828/1828884.png');background-size:70%;background-repeat:no-repeat;background-position:center;}
.piece{width:65%;height:65%;border-radius:50%;border:2px solid #fff;position:absolute;transition:all 0.4s;box-shadow:0 3px 6px rgba(0,0,0,0.3);cursor:pointer;}
.p-red{background:radial-gradient(circle,#ff5e5e,#b30000);}
.p-green{background:radial-gradient(circle,#58d68d,#1d8348);}
.p-yellow{background:radial-gradient(circle,#f7dc6f,#9a7d0a);}
.p-blue{background:radial-gradient(circle,#5dade2,#1b4f72);}
.dice{width:60px;height:60px;font-size:2rem;border-radius:12px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 10px rgba(0,0,0,0.3);cursor:pointer;margin:auto;margin-bottom:10px;}
.status{font-weight:bold;text-align:center;margin-top:5px;}
.wallet-card{background:white;padding:1rem;border-radius:1.5rem;margin:1rem 0;box-shadow:0 4px 10px rgba(0,0,0,0.15);}
.btn{padding:0.5rem 1rem;border-radius:0.75rem;font-weight:bold;cursor:pointer;transition:0.3s;}
.btn-yellow{background:#facc15;color:#000;}
.btn-yellow:hover{background:#f59e0b;color:#fff;}
.btn-cyan{background:#06b6d4;color:#000;}
.btn-cyan:hover{background:#0e7490;color:#fff;}
#admin-panel{display:none;}
</style>
</head>
<body>

<h1>Pro Ludo Royal</h1>

<!-- Dice & Turn -->
<div class="flex justify-center mb-2">
  <div id="dice" class="dice">ðŸŽ²</div>
</div>
<p class="text-center">Turn: <span id="turn">Red</span></p>
<div id="board"></div>
<p class="status" id="status"></p>

<!-- Wallet -->
<div class="wallet-card max-w-sm m-auto">
  <h3 class="font-bold text-center mb-2">ðŸ’° Wallet</h3>
  <p>Balance: à§³ <span id="balance">1000</span></p>
  <input type="number" id="depositAmt" placeholder="Deposit Amount" class="border p-2 rounded w-full my-1">
  <button onclick="deposit()" class="btn btn-yellow w-full mb-2">Deposit</button>
  <input type="number" id="withdrawAmt" placeholder="Withdraw Amount" class="border p-2 rounded w-full my-1">
  <button onclick="withdraw()" class="btn btn-cyan w-full mb-2">Withdraw</button>
  <a href="#" id="whatsappBtn" target="_blank" class="btn btn-green w-full">Contact Admin</a>
</div>

<!-- Admin Login -->
<div id="admin-login" class="max-w-sm m-auto mt-4">
  <input type="password" id="adminPass" placeholder="Admin Password" class="border p-2 rounded w-full mb-2">
  <button onclick="adminLogin()" class="btn btn-cyan w-full">Admin Login</button>
</div>

<!-- Admin Panel -->
<div id="admin-panel" class="max-w-lg m-auto mt-4">
  <h2 class="font-bold text-2xl mb-2">Admin Panel</h2>
  <input type="text" id="adminWhatsApp" placeholder="Admin WhatsApp Number" class="border p-2 rounded w-full mb-2">
  <button onclick="updateAdmin()" class="btn btn-yellow w-full mb-2">Save WhatsApp</button>
  <p class="font-bold">Wallet System Settings (Demo)</p>
</div>

<script>
// ====== Variables ======
const board=document.getElementById('board');
const dice=document.getElementById('dice');
const turnText=document.getElementById('turn');
const status=document.getElementById('status');
const whatsappBtn=document.getElementById('whatsappBtn');
const balanceSpan=document.getElementById('balance');

const players=['red','green','yellow','blue'];
let turn=0,diceValue=0;
let positions={red:[-1,-1,-1,-1],green:[-1,-1,-1,-1],yellow:[-1,-1,-1,-1],blue:[-1,-1,-1,-1]};
let pieces={red:[],green:[],yellow:[],blue:[]};
let homePositions,paths;
let audioMove=new Audio('https://www.soundjay.com/button/sounds/button-16.mp3');
let audioCut=new Audio('https://www.soundjay.com/button/sounds/button-10.mp3');
let walletBalance=1000;
let adminWhatsApp='8801XXXXXXXXX'; // default

// ====== Board setup ======
for(let r=0;r<15;r++){
  for(let c=0;c<15;c++){
    const cell=document.createElement('div');
    cell.className='cell';
    cell.id=`cell-${r}-${c}`;
    board.appendChild(cell);
  }
}

// ====== Paths ======
paths = {red:[],green:[],yellow:[],blue:[]};
players.forEach(p=>{for(let i=0;i<56;i++)paths[p].push([0,0]);}); // simplified for demo

// ====== Home positions ======
homePositions={
  red:[[13,1],[13,4],[10,1],[10,4]],
  green:[[1,1],[1,4],[4,1],[4,4]],
  yellow:[[1,10],[1,13],[4,10],[4,13]],
  blue:[[10,10],[10,13],[13,10],[13,13]]
};

// ====== Create Pieces ======
function createPieces(){
  for(let p in homePositions){
    homePositions[p].forEach((pos,i)=>{
      const div=document.createElement('div');
      div.className=`piece p-${p}`;
      div.dataset.player=p;
      div.dataset.index=i;
      div.dataset.active='0';
      div.addEventListener('click',()=>pieceClick(p,i));
      pieces[p].push(div);
      document.getElementById(`cell-${pos[0]}-${pos[1]}`).appendChild(div);
    });
  }
}
createPieces();

// ====== Dice Roll ======
dice.onclick=()=>{
  diceValue=Math.floor(Math.random()*6)+1;
  dice.innerText=['âš€','âš','âš‚','âšƒ','âš„','âš…'][diceValue-1];
  status.innerText=`${players[turn].toUpperCase()} rolled ${diceValue}`;
}

// ====== Piece Click ======
function pieceClick(player,index){
  if(players[turn]!==player) return;
  let pos=positions[player][index];
  if(pos===-1 && diceValue!==6) return;
  movePiece(player,index,diceValue);
}

// ====== Move Piece ======
function movePiece(player,index,steps){
  let pos=positions[player][index];
  if(pos===-1){pos=0;diceValue=0;}
  else pos+=steps;
  positions[player][index]=pos;
  const [r,c]=homePositions[player][index]; // simplified movement
  const cell=document.getElementById(`cell-${r}-${c}`);
  cell.appendChild(pieces[player][index]);
  audioMove.play();

  // Cut others
  for(let p in pieces){
    if(p!==player){
      pieces[p].forEach((op,j)=>{
        if(op.parentNode===cell){
          audioCut.play();
          const homeCell=document.getElementById(`cell-${homePositions[p][j][0]}-${homePositions[p][j][1]}`);
          homeCell.appendChild(op);
          positions[p][j]=-1;
        }
      });
    }
  }
  nextTurn();
}

// ====== Next Turn ======
function nextTurn(){
  turn=(turn+1)%4;
  turnText.innerText=players[turn].charAt(0).toUpperCase()+players[turn].slice(1);
}

// ====== Wallet ======
function deposit(){
  const amt=parseInt(document.getElementById('depositAmt').value);
  if(isNaN(amt)||amt<=0){alert('Enter valid amount'); return;}
  walletBalance+=amt;
  balanceSpan.innerText=walletBalance;
  alert('Deposit Success!');
}
function withdraw(){
  const amt=parseInt(document.getElementById('withdrawAmt').value);
  if(isNaN(amt)||amt<=0){alert('Enter valid amount'); return;}
  if(amt>walletBalance){alert('Insufficient Balance'); return;}
  walletBalance-=amt;
  balanceSpan.innerText=walletBalance;
  alert('Withdraw Success!');
}

// ====== WhatsApp ======
function updateWhatsAppLink(){
  whatsappBtn.href=`https://wa.me/${adminWhatsApp}?text=Hello%20Admin`;
}
updateWhatsAppLink();

// ====== Admin ======
function adminLogin(){
  const pass=document.getElementById('adminPass').value;
  if(pass==='12341234'){
    document.getElementById('admin-panel').style.display='block';
    alert('Admin Access Granted');
  }else alert('Wrong Password');
}
function updateAdmin(){
  adminWhatsApp=document.getElementById('adminWhatsApp').value;
  updateWhatsAppLink();
  alert('Admin WhatsApp Updated!');
}
</script>

</body>
</html>
